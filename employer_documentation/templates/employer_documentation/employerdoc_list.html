{% extends 'employer_documentation/base-ed-template.html' %}

{% block sidenav_extra %}
    <li class="sidenav__list-item"><a href="{% url 'employer_list_route' %}">Employer List</a></li>
    <li class="sidenav__list-item"><a href="{% url 'employer_detail_route' employer_pk=object_list.0.employer.pk %}">Employer Profile</a></li>
    <li class="sidenav__list-item"><a href="{% url 'employer_create_route' %}">Create Employer Profile</a></li>
    <li class="sidenav__list-item"><a href="{% url 'employerdoc_create_route' employer_pk=object_list.0.employer.pk %}">Create Documentation</a></li>
{% endblock sidenav_extra %}

{% block ed_section %}
    <h1>Employer Docs</h1>
    
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Ref No</th>
                <th scope="col">ID - FDW</th>
                <th scope="col">Agreement</th>
                <th scope="col">IPA</th>
                <th scope="col">Bond</th>
                <th scope="col">Arrival</th>
                <th scope="col">Thumb Print</th>
                <th scope="col">SIP</th>
                <th scope="col">Work Commence</th>
                <th scope="col">Work Permit</th>
                <th scope="col">Edit Doc</th>
            </tr>
        </thead>
        <tbody>
        {% for object in object_list %}
            <tr>
                <td><a href="{% url 'employerdoc_detail_route' employer_pk=object.employer.pk employerdoc_pk=object.pk %}">{{ object.case_ref_no }}</a></td>
                <td><a href="#">{{ object.fdw.reference_number }} - {{ object.fdw.biodata.name }}</a></td>
                <td><a href="{% url 'employerdoc_agreement_date_update_route' employer_pk=object.employer.pk employerdoc_pk=object.pk employersubdoc_pk=object.rn_signatures_ed.pk %}">{{ object.rn_signatures_ed.agreement_date|date:"d/m/y" }}</a></td>
                <td><a href="{% url 'employerdoc_status_update_route' employer_pk=object.employer.pk employerdoc_pk=object.pk employersubdoc_pk=object.rn_maidstatus_ed.pk %}">{{ object.rn_maidstatus_ed.ipa_approval_date|date:"d/m/y" }}</a></td>
                <td><a href="{% url 'employerdoc_status_update_route' employer_pk=object.employer.pk employerdoc_pk=object.pk employersubdoc_pk=object.rn_maidstatus_ed.pk %}">{{ object.rn_maidstatus_ed.security_bond_approval_date|date:"d/m/y" }}</a></td>
                <td><a href="{% url 'employerdoc_status_update_route' employer_pk=object.employer.pk employerdoc_pk=object.pk employersubdoc_pk=object.rn_maidstatus_ed.pk %}">{{ object.rn_maidstatus_ed.arrival_date|date:"d/m/y" }}</a></td>
                <td><a href="{% url 'employerdoc_status_update_route' employer_pk=object.employer.pk employerdoc_pk=object.pk employersubdoc_pk=object.rn_maidstatus_ed.pk %}">{{ object.rn_maidstatus_ed.thumb_print_date|date:"d/m/y" }}</a></td>
                <td><a href="{% url 'employerdoc_status_update_route' employer_pk=object.employer.pk employerdoc_pk=object.pk employersubdoc_pk=object.rn_maidstatus_ed.pk %}">{{ object.rn_maidstatus_ed.sip_date|date:"d/m/y" }}</a></td>
                <td><a href="{% url 'employerdoc_status_update_route' employer_pk=object.employer.pk employerdoc_pk=object.pk employersubdoc_pk=object.rn_maidstatus_ed.pk %}">{{ object.rn_maidstatus_ed.fdw_work_commencement_date|date:"d/m/y" }}</a></td>
                <td><a href="{% url 'employerdoc_status_update_route' employer_pk=object.employer.pk employerdoc_pk=object.pk employersubdoc_pk=object.rn_maidstatus_ed.pk %}">{{ object.rn_maidstatus_ed.work_permit_no }}</a></td>
                <td><a href="{% url 'employerdoc_update_route' employer_pk=object.employer.pk employerdoc_pk=object.pk %}">Edit</a></td>
            </tr>
        {% empty %}
            <p><a href="{% url 'employerdoc_create_route' employer_pk=object_list.0.employer.pk %}">No docs yet. Create documentation.</a></p>
        {% endfor %}
        </tbody>
    </table>
{% endblock ed_section %}