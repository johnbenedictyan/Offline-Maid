{% extends 'dashboard-base.html' %}
{% block dashboard_section %}
<div class="container-fluid">
    <div class="row">
        <div class="col-22 text-right mb-4">
            <a href="{% url 'dashboard_agency_information_update' %}" class="btn btn-xs-lg btn btn-xs-lg-lg btn btn-xs-lg-dashboard-primary w-25 fs-14">Edit</a>
        </div>
    </div>
    <div class="row mb-5">
        <div class="col-10 border" style="{% if agency.logo %}background-image: url({{agency.logo.url}});{% endif %} height: 20vh; background-size: contain; background-repeat: no-repeat; background-position: center;">
        </div>
        <div class="col-10 offset-4 pt-4" id="agencyInformationGroup">
            <h5 class="fs-20">{{agency.name}}</h5>
            <p class="fs-12">License Number: {{agency.license_number}}</p>
            <a href="{{agency.website_uri}}">{{agency.website_uri}}</a>
        </div>
    </div>
    <hr class="my-5" style="margin-left: -5.3rem; margin-right: -5.3rem;">
    <div class="row">
        <div class="col-md-12 mb-4" id="agencyOutletDetailsGroup">
            <div class="row">
                <div class="col mb-lg-3 mb-xl-4">
                    <div class="row">
                        <div class="col">
                            <h5 class="fs-14">Main Branch</h5>
                            <p class="fs-12">
                                {{agency.get_main_branch.address_1}} <br>
                                {{agency.get_main_branch.address_2}} <br>
                                Singapore {{agency.get_main_branch.postal_code}}
                            </p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="row">
                                <div class="col-6">
                                    Office No:
                                </div>
                                <div class="col">
                                    {{agency.get_main_branch.office_number}}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    Mobile No:
                                </div>
                                <div class="col">
                                    {{agency.get_main_branch.mobile_number}}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    EA Personnel:
                                </div>
                                <div class="col">
                                    {% for employee in agency.get_main_branch.get_employees %}
                                    <p>{{employee.name}} ({{employee.ea_personnel_number}})</p>
                                    <p>Mobile: {{employee.contact_number}}</p>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% for branch in agency.get_branches %}
            <div class="row">
                <div class="col mb-lg-3 mb-xl-4">
                    <div class="row">
                        <div class="col">
                            <h5 class="fs-14">{{branch.name|title}}</h5>
                            <p class="fs-12">
                                {{branch.address_1}} <br>
                                {{branch.address_2}} <br>
                                Singapore {{branch.postal_code}}
                            </p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="row">
                                <div class="col-4">
                                    Office No:
                                </div>
                                <div class="col">
                                    {{branch.office_number}}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-4">
                                    Mobile No:
                                </div>
                                <div class="col">
                                    {{branch.mobile_number}}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-4">
                                    EA Personnel:
                                </div>
                                <div class="col">
                                    {% for employee in branch.get_employees %}
                                    <p>{{employee.name}} ({{employee.ea_personnel_number}})</p>
                                    <p>Mobile: {{employee.contact_number}}</p>
                                    {% endfor %}
                                </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="col-md-12 mb-4" id="agencyOpeningHoursGroup">
            <h5 class="fs-14">Opening Hours</h5>
            {% if agency.opening_hours.type == 'AO' %}
            <p>Appointment Only</p>
            {% else %}
            <p>Monday: {% if agency.opening_hours.monday_closed == True %}Closed{% else %}{{agency.opening_hours.monday_start}} - {{agency.opening_hours.monday_end}}{% endif %}</p>
            <p>Tuesday: {% if agency.opening_hours.tuesday_closed == True %}Closed{% else %}{{agency.opening_hours.tuesday_start}} - {{agency.opening_hours.tuesday_end}}{% endif %}</p>
            <p>Wednesday: {% if agency.opening_hours.wednesday_closed == True %}Closed{% else %}{{agency.opening_hours.wednesday_start}} - {{agency.opening_hours.wednesday_end}}{% endif %}</p>
            <p>Thursday: {% if agency.opening_hours.thursday_closed == True %}Closed{% else %}{{agency.opening_hours.thursday_start}} - {{agency.opening_hours.thursday_end}}{% endif %}</p>
            <p>Friday: {% if agency.opening_hours.friday_closed == True %}Closed{% else %}{{agency.opening_hours.friday_start}} - {{agency.opening_hours.friday_end}}{% endif %}</p>
            <p>Saturday: {% if agency.opening_hours.saturday_closed == True %}Closed{% else %}{{agency.opening_hours.saturday_start}} - {{agency.opening_hours.saturday_end}}{% endif %}</p>
            <p>Sunday: {% if agency.opening_hours.sunday_closed == True %}Closed{% else %}{{agency.opening_hours.sunday_start}} - {{agency.opening_hours.sunday_end}}{% endif %}</p>
            <p>Public Holidays: {% if agency.opening_hours.public_holiday_closed == True %}Closed{% else %}{{agency.opening_hours.public_holiday_start}} - {{agency.opening_hours.public_holiday_end}}{% endif %}</p>
            {% endif %}
        </div>
        <div class="col-md-12" id="agencyProfileGroup">
            <h5 class="fs-14">Profile</h5>
            <p class="fs-12">{{agency.profile}}</p>
        </div>
        <div class="col-md-12" id="agencyServicesGroup">
            <h5 class="fs-14">Our Services</h5>
            <p class="fs-12">{{agency.services}}</p>
        </div>
    </div>
</div>
{% endblock dashboard_section %}