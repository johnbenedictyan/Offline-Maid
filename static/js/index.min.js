const redirect=e=>{window.location.href=toString(e)},MO=(e,t,i)=>{MutationObserver=window.MutationObserver||window.WebKitMutationObserver;var n=new MutationObserver(function(e,n){i?t(e):t()});e.nodeName&&n.observe(e.nodeName,e.settings)},rangeSliderInitialisation=function(){$(".noUi-handle").on("click",function(){$(this).width(50)});var e=document.getElementById("slider-range");if(null!=e){const t=window.location.search,i=new URLSearchParams(t),n=Number(i.get("age_min")),a=Number(i.get("age_max")),o=23,s=60,d={start:[n||o,a||s],step:1,range:{min:[o],max:[s]},format:wNumb({decimals:0}),connect:!0};noUiSlider.create(e,d),document.getElementById("id_age_0").value=d.range.min[0],document.getElementById("id_age_1").value=d.range.max[0],e.noUiSlider.on("update",function(e,t){document.getElementById("slider-range-value1").innerHTML=e[0],document.getElementById("slider-range-value2").innerHTML=e[1],document.getElementById("id_age_0").value=e[0],document.getElementById("id_age_1").value=e[1]})}},maidProfileUrlGen=e=>{const t=`/maids/view/${e}/profile/`;return location.origin+t},maidDetailUrlGen=e=>{const t=`/maids/view/${e}/`;return location.origin+t},tippy_initialisation=function(){contentGenerator=((e,t,i)=>{if(loaded_content=`<div id="maid-profile-card">\n                <div class="container">\n                    <div class="row">\n                        <div class="col px-2 px-md-3 px-lg-4 mt-4">\n                            <div class="row">\n                                <div class="col">\n                                    <h6 class="text-muted">Salary</h6>\n                                    <p>$${e}</p>\n                                </div>\n                                <div class="col">\n                                    <h6 class="text-muted">Days off</h6>\n                                    <p>${t}</p>\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="col">\n                                    <h6 class="text-muted">Employment History</h6>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col px-2 px-md-3">\n                            <div class="card custom-card">\n                                <p class="lead mb-1">01/02/12 - 01/02/14</p>\n                                <h6 class="text-muted mb-0">2 years</h6>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>`,contentString="<div id='maid-profile-card'>",e&&(contentString+=`<p>Salary: $${e}</p>`),t&&(contentString+=`<p>Number of days off: ${t}</p>`),i){for(eh in contentString+="<h5>Employment History</h5><ul>",i)contentString+=`Start Date: ${eh.start_date} End Date:${eh.end_date} Country:${eh.country} Work_duration:${eh.work_duration}`;contentString+="</ul>"}return loaded_content});let e=Cookies.get("csrftoken");tippy(".maid-card",{content:null,placement:"right",allowHTML:!0,theme:"light",onCreate(e){e._isFetching=!1,e._data=null,e._error=null},onShow(t){let i=maidProfileUrlGen(t.reference.attributes["data-maid"].value);t._isFetching||t._data||t._error||(t._isFetching=!0,fetch(i,{method:"POST",mode:"same-origin",headers:{"X-CSRFToken":e}}).then(e=>e.json()).then(e=>{t._data=contentGenerator(e.salary,e.days_off,e.employment_history),t.setContent(t._data)}).catch(e=>{t._error=e,t.setContent(`Request failed. ${e}`)}).finally(()=>{t._isFetching=!1}))},onHidden(e){e.setContent(null),e._data=null,e._error=null}})},maidProfileRedirect=e=>{location.replace(maidDetailUrlGen(e))},displayEmptyContent=function(){$("#featured-maids-wrapper").html('<div class="row">\n                <div class="col text-center">\n                    <h1 class="fs-12">No Featured Maids</h1>\n                </div>\n            </div>')},displayContent=function(e){let t='<div class="maid-carousel">';for(let i=0;i<e.data.featured_maids.length;i++){let n=e.data.featured_maids[i],a="{% url 'add_to_shortlist' 1 %}".replace("1",n.pk);t+=`\n                <div class="card maid-card" id='maid-${n.pk}' data-maid='${n.pk}'>\n                    <div onclick="maidProfileRedirect(${n.pk})">\n                        <img src="${n.photo_url}" class="card-img-top" alt="Maid Photo">\n                        <div class="card-body">\n                            <h5 class="card-title">${n.name}</h5>\n                            <p class="card-text">${n.country_of_origin}</p>\n                            <p class="card-text">${n.age} years old</p>\n                            <p class="card-text">${n.marital_status}</p>\n                            <p class="card-text">${n.type}</p>\n                        </div>\n                    </div>\n                    <div class="card-footer">\n                        <a href="${a}" class="btn btn-primary w-100">Add to Shortlist</a>\n                    </div>\n                </div>`}t+="</div>",$("#featured-maids-wrapper").html(t),$(".maid-carousel").slick({dots:!0,infinite:!1,speed:300,slidesToShow:5,slidesToScroll:5,responsive:[{breakpoint:1024,settings:{slidesToShow:4,slidesToScroll:4,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]})};function populateFeaturedMaids(e="ANY"){let t=Cookies.get("csrftoken");axios({method:"post",mode:"same-origin",headers:{"X-CSRFToken":t},url:"/maids/view/featured/",data:{nationality:e}}).then(function(e){0==e.data.count?displayEmptyContent():displayContent(e)})}const maidCarousel=function(){$(".maid-carousel").slick({dots:!0,infinite:!1,speed:300,slidesToShow:4,slidesToScroll:4,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]})},maidApititudeWidthMap={1:"20",2:"40",3:"60",4:"80",5:"100"},assessmentProgressBarInitialisation=function(){$(".assessment-progress-bar").each(function(){let e=$(this).data("value");$(this).css("width",maidApititudeWidthMap[e]+"%")})},dashboardAgencyPlanChangePlan=function(){plan_name=document.getElementById("plansFormControlSelect").value,$(".tab-pane").removeClass("active"),$(`#${plan_name}`).tab("show")},dashboardAgencyPlanAddToCart=function(){$(".cart-button").click(function(){let e=document.querySelector(`input[name="${String($(this).attr("id")).split("btn")[0]}"]:checked`).value;location.replace(location.origin.concat(`/payment/cart/add/${e}`))})},maidCreateFormFunc=function(){$("\n            #id_cfi_other_remarks, \n            #id_cfe_other_remarks, \n            #id_cfd_other_remarks,\n            #id_geh_other_remarks,\n            #id_cok_other_remarks\n        ").prop("disabled",!0),$("\n            #id_cfi_remarks, \n            #id_cfe_remarks, \n            #id_cfd_remarks,\n            #id_geh_remarks,\n            #id_cok_remarks\n        ").on("change",function(){let e="#id_"+$(this).prop("id").split("_")[1]+"_other_remarks";"OTH"==$(this).val()?$(e).prop("disabled",!1):($(e).val(""),$(e).prop("disabled",!0))})};$(function(){$(".maid-carousel").slick({dots:!0,infinite:!1,speed:300,slidesToShow:4,slidesToScroll:4,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),$(".assessment-progress-bar").each(function(){let e=$(this).data("value");$(this).css("width",maidApititudeWidthMap[e]+"%")}),$("\n            #id_cfi_other_remarks, \n            #id_cfe_other_remarks, \n            #id_cfd_other_remarks,\n            #id_geh_other_remarks,\n            #id_cok_other_remarks\n        ").prop("disabled",!0),$("\n            #id_cfi_remarks, \n            #id_cfe_remarks, \n            #id_cfd_remarks,\n            #id_geh_remarks,\n            #id_cok_remarks\n        ").on("change",function(){let e="#id_"+$(this).prop("id").split("_")[1]+"_other_remarks";"OTH"==$(this).val()?$(e).prop("disabled",!1):($(e).val(""),$(e).prop("disabled",!0))}),rangeSliderInitialisation(),tippy_initialisation(),populateFeaturedMaids(),MO({nodeName:document.getElementById("featured-maids-wrapper"),settings:{attributes:!0,childList:!0,subtree:!1}},tippy_initialisation())}),window.onload=(()=>{$(".toast").toast("show")});