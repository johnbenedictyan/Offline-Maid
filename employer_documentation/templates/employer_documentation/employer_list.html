{% extends 'employer_documentation/base-ed-template.html' %}

{% block sidenav_extra %}
    <li class="sidenav__list-item"><a href="{% url 'employer_create_route' %}">Create Employer Profile</a></li>
{% endblock sidenav_extra %}

{% block ed_section %}
    <h1>Employers</h1>
    
    <table class="table">
        <thead>
            <tr>
                <th scope="col">employer_name</th>
                <th scope="col">employer_email</th>
                <th scope="col">documentation</th>
                <th scope="col">Update Profile</th>
                <th scope="col">ID - Agent</th>
            </tr>
        </thead>
        <tbody>
        {% for object in object_list %}
            <tr>
                <td><a href="{% url 'employer_detail_route' employer_pk=object.pk %}">{{ object.employer_name }}</a></td>
                <td><a href="{% url 'employer_detail_route' employer_pk=object.pk %}">{{ object.employer_email }}</a></td>
                <td>{% if object.rn_ed_employer.all %}<a href="{% url 'employerdoc_list_route' employer_pk=object.pk %}">View Employer Documents</a>{% else %}<a href="{% url 'employerdoc_create_route' employer_pk=object.pk %}">Create new doc</a>{% endif %}</td>
                <td><a href="{% url 'employer_update_route' employer_pk=object.pk %}">Update</a></td>
                <td>{{ object.agency_employee.ea_personnel_number }} - {{ object.agency_employee.first_name }} {{ object.agency_employee.last_name }}</td>
            </tr>
        {% empty %}
            <p><tr><a href="{% url 'employer_create_route' %}">No employers yet. Create employer profile.</a></tr></p>
        {% endfor %}
        </tbody>
    </table>
{% endblock ed_section %}